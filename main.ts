namespace SpriteKind {
    export const MenueItem = SpriteKind.create()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameState == 0) {
        MainScreen("keypress", "A")
    } else if (gameState == 1) {
        OptionsScreen("keypress", "A")
    } else {
    	
    }
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameState == 0) {
        MainScreen("keypress", "UP")
    } else if (gameState == 1) {
        OptionsScreen("keypress", "UP")
    } else {
    	
    }
})
function createQuestion () {
    operation = randint(0, 3)
    while (operations[operation] == -1) {
        operation = randint(0, 3)
    }
    if (digitsselected == 0) {
        limit = 9
    } else if (digitsselected == 1) {
        limit = 99
    } else {
        limit = 999
    }
    if (operation == 0) {
        f = randint(0, limit)
        e = randint(0, limit)
        d = f + e
        randomize(f, e, d, "+")
    } else if (operation == 1) {
        f = randint(0, limit)
        e = randint(0, limit)
        d = f - e
        randomize(f, e, d, "-")
    } else if (operation == 2) {
        f = randint(1, limit)
        e = randint(1, limit)
        d = f * e
        randomize(f, e, d, "*")
    } else {
        f = randint(1, limit * 11)
        e = randint(1, limit)
        d = f / e
        while (f % e != 0) {
            f = randint(1, limit * 11)
            e = randint(1, limit)
            d = f / e
        }
        randomize(f, e, d, "/")
    }
}
function randomize (a: number, b: number, c: number, op: string) {
    i = randint(0, 2)
    if (i == 0) {
        responses[7] = "?" + op + ("" + b) + "=" + ("" + c)
        responses[0] = convertToText(a)
        responses[4] = convertToText(a)
    } else if (i == 1) {
        responses[7] = "" + a + op + "?" + "=" + ("" + c)
        responses[0] = convertToText(b)
        responses[4] = convertToText(b)
    } else {
        responses[7] = "" + a + op + ("" + b) + "=" + "?"
        responses[0] = convertToText(c)
        responses[4] = convertToText(c)
    }
    responses[1] = convertToText(randint(0, limit))
    responses[2] = convertToText(randint(0, limit))
    responses[3] = convertToText(randint(0, limit))
    responses[5] = responses[1]
    responses[6] = responses[2]
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameState == 1) {
        OptionsScreen("keypress", "LEFT")
    } else if (false) {
    	
    }
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameState == 0) {
        MainScreen("keypress", "DOWN")
    } else if (gameState == 1) {
        OptionsScreen("keypress", "DOWN")
    } else {
    	
    }
})
function gameScreen () {
    // spriteutils.set_console_overlay(False)
    equation = textsprite.create(responses[7])
    rndIndex = randint(0, 3)
    response1 = textsprite.create(responses[0 + rndIndex])
    response2 = textsprite.create(responses[1 + rndIndex])
    response3 = textsprite.create(responses[2 + rndIndex])
    response4 = textsprite.create(responses[3 + rndIndex])
    equation.setMaxFontHeight(10)
    response1.setMaxFontHeight(8)
    equation.setPosition(80, 27)
    response1.setPosition(40, 75)
    response2.setPosition(80, 45)
    response3.setPosition(120, 75)
    response4.setPosition(80, 105)
    equation.setKind(SpriteKind.MenueItem)
    response1.setKind(SpriteKind.MenueItem)
    response2.setKind(SpriteKind.MenueItem)
    response3.setKind(SpriteKind.MenueItem)
    response4.setKind(SpriteKind.MenueItem)
    i = -1
    console.log("gehe in die Schleife und warte auf Tastendruck")
    while (i == -1) {
        if (controller.left.isPressed()) {
            while (controller.left.isPressed()) {
                pause(100)
            }
            i = 0
            console.log("Links gedrückt")
            console.logValue("Antwort:", responses[i + rndIndex])
        } else if (controller.up.isPressed()) {
            while (controller.up.isPressed()) {
                pause(100)
            }
            i = 1
            console.log("Oben gedrückt")
            console.logValue("Antwort:", responses[i + rndIndex])
        } else if (controller.right.isPressed()) {
            while (controller.right.isPressed()) {
                pause(100)
            }
            i = 2
            console.log("Rechts gedrückt")
            console.logValue("Antwort:", responses[i + rndIndex])
        } else if (controller.down.isPressed()) {
            while (controller.down.isPressed()) {
                pause(100)
            }
            i = 3
            console.log("Unten gedrückt")
            console.logValue("Antwort:", responses[i + rndIndex])
        } else {
        	
        }
        pause(100)
    }
    console.log("Schleife beendet, gehe in Auswertung")
    console.logValue("richtige Antwort:", responses[0])
    if (responses[i + rndIndex] == responses[0]) {
        equation.startEffect(effects.confetti, 500)
        sprites.destroyAllSpritesOfKind(SpriteKind.MenueItem)
        return true
    } else {
        scene.cameraShake(4, 500)
        equation.startEffect(effects.ashes, 500)
        sprites.destroyAllSpritesOfKind(SpriteKind.MenueItem)
        return false
    }
}
function OptionsScreen (state: string, key: string) {
    if (state == "init") {
        scene.setBackgroundImage(img`
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            ................................................................................................................................................................
            `)
        selector = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . 1 1 . . . . . . 
            . . . . . . . . 1 1 1 1 . . . . 
            . 1 1 1 1 1 1 1 1 1 1 1 1 1 . . 
            . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
            . 1 1 1 1 1 1 1 1 1 1 1 1 1 . . 
            . . . . . . . . 1 1 1 1 . . . . 
            . . . . . . . . 1 1 . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.MenueItem)
        selector.setPosition(95, yPositions[3])
        opAddChoice = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . 7 . . . . 
            . . . . . . . . . . 7 7 7 . . . 
            . . . . . . . . . 7 7 7 . . . . 
            . . . . 7 7 . . 7 7 7 . . . . . 
            . . . . 7 7 7 7 7 7 . . . . . . 
            . . . . . 7 7 7 7 . . . . . . . 
            . . . . . . 7 7 . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.MenueItem)
        opAddChoice.setPosition(55, yPositions[0])
        opSubChoice = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . 7 . . . . 
            . . . . . . . . . . 7 7 7 . . . 
            . . . . . . . . . 7 7 7 . . . . 
            . . . . 7 7 . . 7 7 7 . . . . . 
            . . . . 7 7 7 7 7 7 . . . . . . 
            . . . . . 7 7 7 7 . . . . . . . 
            . . . . . . 7 7 . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.MenueItem)
        opSubChoice.setPosition(55, yPositions[1])
        opMulChoice = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . . . 2 . . . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.MenueItem)
        opMulChoice.setPosition(55, yPositions[2])
        opDivChoice = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . . . 2 . . . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.MenueItem)
        opDivChoice.setPosition(55, yPositions[3])
        digitsChoice = textsprite.create(digits[digitsselected], 0, 1)
        digitsChoice.setPosition(125, yPositions[2])
        digitsChoice.setKind(SpriteKind.MenueItem)
        redrawOptionChecks()
    } else if (state == "keypress") {
        if (key == "DOWN") {
            if (selector.y < yPositions[3]) {
                selector.y += yPositions[1] - yPositions[0]
            }
        } else if (key == "UP") {
            if (selector.x == 95) {
                if (selector.y == yPositions[3]) {
                    selector.y = yPositions[2]
                }
            } else if (selector.y > yPositions[0]) {
                selector.y += yPositions[0] - yPositions[1]
            }
        } else if (key == "LEFT") {
            if (selector.x == 95) {
                selector.x = 55
                selector.setImage(img`
                    . . . . . . . . . . . . . . . . 
                    . 1 . 1 . 1 . 1 . 1 . 1 . 1 . . 
                    . . . . . . . . . . . . . . 1 . 
                    . 1 . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . 1 . 
                    . 1 . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . 1 . 
                    . 1 . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . 1 . 
                    . 1 . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . 1 . 
                    . 1 . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . 1 . 
                    . 1 . . . . . . . . . . . . . . 
                    . . 1 . 1 . 1 . 1 . 1 . 1 . 1 . 
                    . . . . . . . . . . . . . . . . 
                    `)
            }
        } else if (key == "RIGHT") {
            if (selector.x == 55) {
                selector.x = 95
                selector.setImage(img`
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . 1 1 . . . . . . 
                    . . . . . . . . 1 1 1 1 . . . . 
                    . 1 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                    . 1 1 1 1 1 1 1 1 1 1 1 1 1 1 . 
                    . 1 1 1 1 1 1 1 1 1 1 1 1 1 . . 
                    . . . . . . . . 1 1 1 1 . . . . 
                    . . . . . . . . 1 1 . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    . . . . . . . . . . . . . . . . 
                    `)
                if (selector.y < yPositions[2]) {
                    selector.y = yPositions[2]
                }
            }
        } else if (key == "A") {
            if (selector.x == 55) {
                if (selector.y == yPositions[0]) {
                    operations[0] = operations[0] * -1
                } else if (selector.y == yPositions[1]) {
                    operations[1] = operations[1] * -1
                } else if (selector.y == yPositions[2]) {
                    operations[2] = operations[2] * -1
                } else {
                    operations[3] = operations[3] * -1
                }
            } else if (selector.y == yPositions[2]) {
                if (digitsselected < 2) {
                    digitsselected += 1
                } else {
                    digitsselected = 0
                }
            } else if (operations[0] == 1 || operations[1] == 1 || (operations[2] == 1 || operations[3] == 1)) {
                game.splash("Es geht los! Viel Spaß!")
                sprites.destroyAllSpritesOfKind(SpriteKind.MenueItem)
                gameState = 2
                GameLoop()
            } else {
                game.splash("Bitte eine Rechenart auswählen!")
            }
            redrawOptionChecks()
        } else {
        	
        }
    }
}
function MainScreen (state2: string, key2: string) {
    if (state2 == "init") {
        scene.setBackgroundImage(img`
            1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
            1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
            1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888119888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            11111888888888888888888d11d88888888888111988888888888888888888888881198888888888888888888888888888888888b11d8888888888888888888888888888888888888888888888811111
            111118888888888888888881111d888888888d111d88888888888888888dd8888881198888888888888888888888888888888888d1118888888888888888888888888888888888888888888888811111
            11111888888888888888888111118888888881111d8888888888888888b1188888811d888888888888888888888888888888888811119888888888888888888888888888888888888888888888811111
            1111188888888888888888811d11b8888888b1111d8888888888888888b1188888811d888888888888888888888888888888888b11d11888888888888888888888888888888888888888888888811111
            1111188888888888888888811d11d888888811911d88888bddd9888889d1199988811d8bdd9888888888bdd9888888888888888d1db11b8888888b9ddb8888889dd98888888888888888888888811111
            1111188888888888888888811db11888888b11811d88881111111d88b111111198811dd11111b88888b11111198888888888888118811d888888d11111d888b111111888888888888888888888811111
            1111188888888888888888811d811d88888d1d811d88891db8bd118889d119998881111db911d8888b1198891198888888888891188d1188888911b88d188811988b1b88888888888888888888811111
            1111188888888888888888811d8d1188888118811d8888888888d19888b11888888111b888b118888119888891188888888888d1d88811b8888d198888888b1188888888888888888888888888811111
            1111188888888888888888811d8811b8889118811d8888888888d1d888b1188888811d8888811b88b11888888118888888888811888811d8888d1d888888881188888888888888888888888888811111
            111118888888888888888881198811d88811b8811d888888888bd1d888b118888881198888811988b1199999911888888888891188889118888b111b888888d11d888888888888888888888888811111
            111118888888888888888881198891188b1188811d8888bd111111d888b118888881198888811988d1111111111b88888888811dbbbbb119888891111988888d111d8888888888888888888888811111
            111118888888888888888881198881198d1988811d888b11d9bb11d888b118888881198888811988911bbbbbbbb888888888b1111111111d8888889111d88888bd111888888888888888888888811111
            11111888888888888888888119888d11811888811d888d1d8888d1d888b118888881198888811988b1188888888888888888d11ddddddd11888888889118888888b11d88888888888888888888811111
            11111888888888888888888119888811d1d888811d88811b8888d1d88881188888811988888119888118888888888888888811988888881198888888811b888888891188888888888888888888811111
            1111188888888888888888811988881111b888811d888119888911d88881198888811988888119888d1d888888988888888b1188888888d1188d8888811889b888811d88888888888888888888811111
            111118888888888888888881198888b11188888d1d888d11dd1111d8888111d1988119888881198888111d1d11188888888d1d88888888b11b8111dd11d88d11ddd11b88888888888888888888811111
            111118888888888888888881198888811988888d1d8888d11119b1d8888b11119881198888811988888d11111db8888888811988888888811d8911111d8888d11111b888888888888888888888811111
            11111888888888888888888888888888888888888888888888888888888888b88888888888888888888888b8888888888888888888888888888888b888888888bb888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888881d88888888888888888888888888888888888888888888811111
            111118888888888888888888b1d888881d88888888888888888888888888888888888888888889111d88888888888891b88888888888d188888888888888888888888888888888888888888888811111
            111118888888888888888888911d88881d888888888888888888888888888888888888888888d1ddd1b88888888888b1b88888888888d188888888888888888888888888888888888888888888811111
            111118888888888888888888911188881d8888888888888888888888888888888888888888881d888888888888888888888888888888d188888888888888888888888888888888888888888888811111
            11111888888888888888888891b1d8881d8888d11d888bd8888118888dd1d8888bd1db8888881d8888888db9d1d888b1b888bd1db888d188888888888888888888888888888888888888888888811111
            111118888888888888888888918d18881d8881dbd1d88b18888d1888119d118891dbdd888888119888888111dd1188b1b88d1d911b88d188888888888888888888888888888888888888888888811111
            11111888888888888888888891881d881d88d1888d1b8b18888d188d188891b8d188888888888111d888811888d188b1b88198881188d188888888888888888888888888888888888888888888811111
            1111188888888888888888889188d1b81d881d8889198b18888d18811888b1d891988888888888b11188819888b198b1b891b8881188d188888888888888888888888888888888888888888888811111
            111118888888888888888888918881181d88111111198b18888d1881111111988d11d88888888888d1d881988881d8b1b8d111111188d188888888888888888888888888888888888888888888811111
            11111888888888888888888891888d1b1d881d8888888b1b88811881d8888888888d1d888888888881188198888198b1b89188888888d188888888888888888888888888888888888888888888811111
            111118888888888888888888918888111d881d8888888b1d88811881188888888888d1888888888881d881d88891b8b1b8b1b8888888d188888888888888888888888888888888888888888888811111
            111118888888888888888888918888911d8891d88bd88811bb11188b1d88bdb81b8811888889198bd1b8811dbb1d88b1b8811988d188d188888888888888888888888888888888888888888888811111
            1111188888888888888888889188888d1988891111d888b1119d188891111d88d11118888888d111198881d111d888b1b888d1111d88d188888888888888888888888888888888888888888888811111
            111118888888888888888888888888888888888888888888888888888888888888888888888888b888888198888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888198888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888198888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888988888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888d18888888888888888888888888888888888888888888888888888888888888888888888888888811111
            111118888888888888888888b111dd88888888888888888888888888888888888888888888881d88d1888888888888888888888888888888888888888888888888888888888888888888888888811111
            11111888888888888888888891ddd118888888888888888888811888888888888888888888881d88dd88888888881d888888888888888888888888888888888888888888888888888888888888811111
            11111888888888888888888891b888198888888888888888888d1888888888888888888888881d888888888888881d888888888888888888888888888888888888888888888888888888888888811111
            11111888888888888888888891b8881d8888dd1d8888bd1db8d11dd888bd1db888118d1d88881d88dd8889d1d8dd11dd8889d1d888888888888888888888888888888888888888888888888888811111
            11111888888888888888888891b8891b888119d118891dbdd8d11dd88d1d911b88111dd118881d88d188d1dbdbbd11dd88d19d1188888888888888888888888888888888888888888888888888811111
            111118888888888888888888911d11d888d188891b8d188888811888b1988811881198891b881d88d188118888881d88891b8881d8888888888888888888888888888888888888888888888888811111
            11111888888888888888888891ddd1198811888b1d8919888881188891b88811881188881b881d88d188d19888881d888d18888118888888888888888888888888888888888888888888888888811111
            11111888888888888888888891b888d1881111111d88d11d888d1888d11111118811888819881d88d1888d1198881d888d111111d8888888888888888888888888888888888888888888888888811111
            11111888888888888888888891b88891b81d8888888888d1d88d1888918888888811888819881d88d188888d1d881d888d18888888888888888888888888888888888888888888888888888888811111
            11111888888888888888888891b888d1881188888888888d188d1888b1b888888811888819881d88d1888888d1881d888d18888888888888888888888888888888888888888888888888888888811111
            11111888888888888888888891dbbd1188b1d88bdb81b881188d1998811988d18811888819881d88d1881b8b1d8811bb881db88918888888888888888888888888888888888888888888888888811111
            111118888888888888888888911111d8888b1111d88d11118888111888d111198811888819881d88d188d111d888b11188b11111d8888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111188888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888811111
            1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
            1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
            1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
            `)
        MainSelector = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 9 9 . . . . . . . 
            . . . . . 9 9 9 9 . . . . . . . 
            . . . 9 9 9 9 9 9 9 9 9 9 9 9 9 
            . . 9 9 9 9 9 9 9 9 9 9 9 9 9 9 
            . . . 9 9 9 9 9 9 9 9 9 9 9 9 9 
            . . . . . 9 9 9 9 . . . . . . . 
            . . . . . . . 9 9 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.MenueItem)
        MainSelector.setPosition(130, 64)
    } else if (state2 == "keypress") {
        if (key2 == "DOWN") {
            MainSelector.setPosition(130, 88)
        } else if (key2 == "UP") {
            MainSelector.setPosition(130, 64)
        } else if (key2 == "A") {
            if (MainSelector.y == 64) {
                sprites.destroy(MainSelector)
                gameState = 1
                OptionsScreen("init", " ")
            } else {
                buffer = digitsselected
                for (let Index = 0; Index <= 2; Index++) {
                    digitsselected = Index
                    showLeaderboard()
                }
                digitsselected = buffer
            }
        } else {
        	
        }
    } else {
    	
    }
}
function showLeaderboard () {
    getLeaderboard()
    leaderboard = "Bestenliste:" + "\\n" + "Schwierigkeit: "
    leaderboard = "" + leaderboard + "" + digits[digitsselected] + "\\n \\n"
    luecke = ""
    // for index in range(16 - len(("" + leaders_names[0] + convert_to_text(leaders_scores[0])))):
    // luecke = "" + luecke + " "
    leaderboard = "" + leaderboard + leaders_names[0] + luecke + convertToText(leaders_scores[0])
    leaderboard = "" + leaderboard + "\\n"
    luecke = ""
    // for index2 in range(16 - len(("" + leaders_names[1] + convert_to_text(leaders_scores[1])))):
    // luecke = "" + luecke + " "
    leaderboard = "" + leaderboard + leaders_names[1] + luecke + convertToText(leaders_scores[1])
    leaderboard = "" + leaderboard + "\\n"
    luecke = ""
    // for index3 in range(16 - len(("" + leaders_names[2] + convert_to_text(leaders_scores[2])))):
    // luecke = "" + luecke + " "
    leaderboard = "" + leaderboard + leaders_names[2] + luecke + convertToText(leaders_scores[2])
    game.showLongText(leaderboard, DialogLayout.Full)
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameState == 1) {
        OptionsScreen("keypress", "RIGHT")
    } else if (false) {
    	
    }
})
function checkAndInitLeaderboard () {
    if (!(blockSettings.exists("0"))) {
        blockSettings.writeString("0_1_name", "Karsten")
        blockSettings.writeString("0_2_name", "Karsten")
        blockSettings.writeString("0_3_name", "Karsten")
        blockSettings.writeString("00_1_name", "Karsten")
        blockSettings.writeString("00_2_name", "Karsten")
        blockSettings.writeString("00_3_name", "Karsten")
        blockSettings.writeString("000_1_name", "Karsten")
        blockSettings.writeString("000_2_name", "Karsten")
        blockSettings.writeString("000_3_name", "Karsten")
        blockSettings.writeNumberArray("0", [300, 200, 100])
        blockSettings.writeNumberArray("00", [300, 200, 100])
        blockSettings.writeNumberArray("000", [300, 200, 100])
    }
    getLeaderboard()
}
// verhindert den Standard-Dialog bei Spielende
info.onLifeZero(function () {
	
})
function getLeaderboard () {
    if (digitsselected == 0) {
        leaders_names = [blockSettings.readString("0_1_name"), blockSettings.readString("0_2_name"), blockSettings.readString("0_3_name")]
        leaders_scores = blockSettings.readNumberArray("0")
    } else if (digitsselected == 1) {
        leaders_names = [blockSettings.readString("00_1_name"), blockSettings.readString("00_2_name"), blockSettings.readString("00_3_name")]
        leaders_scores = blockSettings.readNumberArray("00")
    } else {
        leaders_names = [blockSettings.readString("000_1_name"), blockSettings.readString("000_2_name"), blockSettings.readString("000_3_name")]
        leaders_scores = blockSettings.readNumberArray("000")
    }
}
function checkHighScore () {
    if (totalScore > leaders_scores[2]) {
        name = game.askForString("Wie ist dein Name?", 12)
        if (totalScore > leaders_scores[0]) {
            leaders_scores[2] = leaders_scores[1]
            leaders_scores[1] = leaders_scores[0]
            leaders_scores[0] = totalScore
            leaders_names[2] = leaders_names[1]
            leaders_names[1] = leaders_names[0]
            leaders_names[0] = name
        } else if (totalScore > leaders_scores[1]) {
            leaders_scores[2] = leaders_scores[1]
            leaders_scores[1] = totalScore
            leaders_names[2] = leaders_names[1]
            leaders_names[1] = name
        } else {
            leaders_scores[2] = totalScore
            leaders_names[2] = name
        }
        setLeaderboard()
    }
}
function GameLoop () {
    scene.setBackgroundImage(img`
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888fffffff88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888fffdfff88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ffdddff88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888fdddddf88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888fffffff88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888fffffff88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        88888888888888888888888888888888888888888888888888888888888888ffffffcccccccccfffffccccccccccffffff88888888888888888888888888888888888888888888888888888888888888
        88888888888888888888888888888888888888888888888888888888888888fffdffccccccccfcccccfcccccccccffdfff88888888888888888888888888888888888888888888888888888888888888
        88888888888888888888888888888888888888888888888888888888888888ffddffccccccccfcccccfcccccccccffddff88888888888888888888888888888888888888888888888888888888888888
        88888888888888888888888888888888888888888888888888888888888888fdddffccccccccfccfccfcccccccccffdddf88888888888888888888888888888888888888888888888888888888888888
        88888888888888888888888888888888888888888888888888888888888888ffddffccccccccfcccccfcccccccccffddff88888888888888888888888888888888888888888888888888888888888888
        88888888888888888888888888888888888888888888888888888888888888fffdffccccccccfcccccfcccccccccffdfff88888888888888888888888888888888888888888888888888888888888888
        88888888888888888888888888888888888888888888888888888888888888ffffffcccccccccfffffccccccccccffffff88888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ccccccc88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888fffffff88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888fffffff88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888fdddddf88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888ffdddff88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888fffdfff88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888fffffff88888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        `)
    totalScore = 0
    info.setLife(5)
    for (let index = 0; index < 3; index++) {
        info.setScore(20000)
        createQuestion()
        if (gameScreen()) {
            music.play(music.createSoundEffect(WaveShape.Square, 1, 3731, 255, 0, 300, SoundExpressionEffect.Warble, InterpolationCurve.Curve), music.PlaybackMode.UntilDone)
            totalScore += info.score()
        } else {
            info.changeLifeBy(-1)
            music.play(music.createSoundEffect(WaveShape.Sine, 200, 600, 255, 0, 150, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
        }
    }
    game.showLongText("Gratulation! Deine Punktzahl: " + convertToText(totalScore), DialogLayout.Bottom)
    checkHighScore()
    showLeaderboard()
    gameState = 0
    info.setScore(0)
    info.setLife(0)
    MainScreen("init", " ")
}
function setLeaderboard () {
    if (digitsselected == 0) {
        blockSettings.writeString("0_1_name", leaders_names[0])
        blockSettings.writeString("0_2_name", leaders_names[1])
        blockSettings.writeString("0_3_name", leaders_names[2])
        blockSettings.writeNumberArray("0", [leaders_scores[0], leaders_scores[1], leaders_scores[2]])
    } else if (digitsselected == 1) {
        blockSettings.writeString("00_1_name", leaders_names[0])
        blockSettings.writeString("00_2_name", leaders_names[1])
        blockSettings.writeString("00_3_name", leaders_names[2])
        blockSettings.writeNumberArray("00", [leaders_scores[0], leaders_scores[1], leaders_scores[2]])
    } else {
        blockSettings.writeString("000_1_name", leaders_names[0])
        blockSettings.writeString("000_2_name", leaders_names[1])
        blockSettings.writeString("000_3_name", leaders_names[2])
        blockSettings.writeNumberArray("000", [leaders_scores[0], leaders_scores[1], leaders_scores[2]])
    }
}
function redrawOptionChecks () {
    if (operations[0] == 1) {
        opAddChoice.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . 7 . . . . 
            . . . . . . . . . . 7 7 7 . . . 
            . . . . . . . . . 7 7 7 . . . . 
            . . . . 7 7 . . 7 7 7 . . . . . 
            . . . . 7 7 7 7 7 7 . . . . . . 
            . . . . . 7 7 7 7 . . . . . . . 
            . . . . . . 7 7 . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    } else {
        opAddChoice.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . . . 2 . . . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    }
    if (operations[1] == 1) {
        opSubChoice.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . 7 . . . . 
            . . . . . . . . . . 7 7 7 . . . 
            . . . . . . . . . 7 7 7 . . . . 
            . . . . 7 7 . . 7 7 7 . . . . . 
            . . . . 7 7 7 7 7 7 . . . . . . 
            . . . . . 7 7 7 7 . . . . . . . 
            . . . . . . 7 7 . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    } else {
        opSubChoice.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . . . 2 . . . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    }
    if (operations[2] == 1) {
        opMulChoice.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . 7 . . . . 
            . . . . . . . . . . 7 7 7 . . . 
            . . . . . . . . . 7 7 7 . . . . 
            . . . . 7 7 . . 7 7 7 . . . . . 
            . . . . 7 7 7 7 7 7 . . . . . . 
            . . . . . 7 7 7 7 . . . . . . . 
            . . . . . . 7 7 . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    } else {
        opMulChoice.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . . . 2 . . . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    }
    if (operations[3] == 1) {
        opDivChoice.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . 7 . . . . 
            . . . . . . . . . . 7 7 7 . . . 
            . . . . . . . . . 7 7 7 . . . . 
            . . . . 7 7 . . 7 7 7 . . . . . 
            . . . . 7 7 7 7 7 7 . . . . . . 
            . . . . . 7 7 7 7 . . . . . . . 
            . . . . . . 7 7 . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    } else {
        opDivChoice.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . . . 2 . . . . . . . . 
            . . . . . . 2 . 2 . . . . . . . 
            . . . . . 2 . . . 2 . . . . . . 
            . . . . 2 . . . . . 2 . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    }
    digitsChoice.setText(digits[digitsselected])
}
let name = ""
let totalScore = 0
let leaders_scores: number[] = []
let leaders_names: string[] = []
let luecke = ""
let leaderboard = ""
let buffer = 0
let MainSelector: Sprite = null
let digitsChoice: TextSprite = null
let opDivChoice: Sprite = null
let opMulChoice: Sprite = null
let opSubChoice: Sprite = null
let opAddChoice: Sprite = null
let selector: Sprite = null
let response4: TextSprite = null
let response3: TextSprite = null
let response2: TextSprite = null
let response1: TextSprite = null
let rndIndex = 0
let equation: TextSprite = null
let responses: string[] = []
let i = 0
let d = 0
let e = 0
let f = 0
let limit = 0
let operation = 0
let digitsselected = 0
let digits: string[] = []
let operations: number[] = []
let yPositions: number[] = []
let gameState = 0
checkAndInitLeaderboard()
gameState = 0
yPositions = [
49,
68,
87,
106
]
operations = [
1,
1,
-1,
-1
]
digits = ["0", "00", "000"]
digitsselected = 0
MainScreen("init", " ")
game.onUpdateInterval(50, function () {
    if (info.score() > 0) {
        info.changeScoreBy(-50)
    }
})
